import{d as $,ai as D,p as L,ah as I,aj as U,h as A,ak as E,o as a,c as o,a as s,t as r,g as t,e as y,F as k,G as M,aP as K,b as v,l,J as Q,al as T,ao as G,ap as J,am as X,an as Y,H as Z,aq as q,j as W,ad as tt,E as et,k as st,aW as at,aX as nt,aY as it,ac as ot,aU as R,ar as lt,m as B,aZ as ct,a_ as rt,a$ as wt}from"./I0J7D7wH.js";import{N as F,n as O,b as mt}from"./Ckh0oh2P.js";const Rt={layout:"default"},dt={class:"tw-flex tw-flex-wrap tw-items-center tw-justify-between tw-gap-7.5 tw-mb-15"},_t={class:"heading-h2 md:heading-h1"},ut={key:1,class:"tw-grid sm:tw-grid-cols-2 lg:tw-grid-cols-3 tw-gap-7.5 tw-w-full"},ht=$({__name:"OtherNews",setup(N){const n=D(),w=L(),{$customFetch:m}=I(),p=F(m),{data:d,isLoading:_,suspense:f}=U({queryKey:A(()=>O.otherNewsList(n.params.slug,w.locale)),queryFn:c=>p.getOtherNewsList(c),staleTime:E});return(c,b)=>{var u;return a(),o("section",dt,[s("h2",_t,r(c.$t("news.otherNews")),1),t(_)?(a(),y(T,{key:0,class:"tw-mb-7.5 tw-h-1500 tw-w-full tw-order-1"})):(u=t(d))!=null&&u.length?(a(),o("div",ut,[(a(!0),o(k,null,M(t(d),i=>(a(),y(K,{key:i.id,image:i.image,href:`/analytics/${i.slug}`,author:i.author,title:i.title,content:i.shortDescription,"created-at":i.publishedAtFormatted},null,8,["image","href","author","title","content","created-at"]))),128))])):v("",!0),l(Q,{href:"/analytics",class:"tw-mx-auto"})])}}}),pt={class:"tw-container tw-pt-5 md:tw-pt-7.5"},gt={key:1,class:"xl:tw-flex xl:tw-gap-7.5 tw-relative tw-mb-15"},yt={class:"xl:tw-max-w-[770px]"},ft={key:0,class:"tw-mb-7.5 md:tw-mb-10"},bt=["src","alt","title"],xt={class:"heading-h2 md:heading-h1 tw-mb-5"},vt={class:"tw-flex tw-items-center tw-gap-2.5 tw-text-300 tw-leading-400 tw-mt-2.5"},$t={class:"body-b1 tw-text-primary-300 tw-capitalize"},kt={class:"heading-h4 tw-text-primary-50 tw-normal-case"},Nt={class:"body-b2 tw-text-primary-300"},St={class:"text-content tw-mb-7.5 md:tw-mb-15"},Lt={class:"xl:tw-sticky xl:tw-top-7.5 tw-h-full tw-mt-10 xl:tw-mt-0"},It=$({__name:"[slug]",async setup(N){var P,C,j,z;let n,w;const m=D(),p=G(),d=J(),_=L(),{$customFetch:f}=I(),c=F(f),b=X(),u=O.detail(m.params.slug),i=()=>b.fetchQuery({queryKey:u,queryFn:g=>c.getNewsItemBySlug(g,_.locale),staleTime:lt}),{data:e,status:h}=([n,w]=Y(()=>it(JSON.stringify(u),i,"$mN2gziXVDH")),n=await n,w(),n);Z(()=>_.locale,()=>{p.push(d("/"))});const V=async g=>{await c.like(e.value.id,g)};return q({title:(P=e.value)==null?void 0:P.title,description:(C=e.value)==null?void 0:C.shortDescription,image:(j=e.value)==null?void 0:j.image,relativeUrl:`news/${(z=e.value)==null?void 0:z.slug}`}),(g,x)=>{const H=W("safe-html");return a(),o(k,null,[s("div",pt,[t(h)==="pending"?(a(),y(T,{key:0,class:"tw-mb-7.5 tw-w-1500 tw-h-1500"})):t(e)?(a(),o("div",gt,[s("div",yt,[t(e).image?(a(),o("div",ft,[s("img",{src:t(e).image,alt:t(e).title,title:t(e).title,class:"tw-w-full lg:tw-min-w-[770px] tw-h-full tw-object-cover"},null,8,bt)])):v("",!0),s("h1",xt,r(t(e).title),1),s("div",vt,[l(tt,{size:t(ot).medium,src:t(e).author.image},null,8,["size","src"]),s("p",$t,[et(r(g.$t("common.by"))+" ",1),s("span",kt,r(t(e).author.name),1)]),x[0]||(x[0]=s("i",{class:"tw-w-100 tw-h-100 tw-inline-block tw-rounded-full tw-bg-primary-400"},null,-1)),s("p",Nt,r(t(e).publishedAtFormatted),1)]),x[1]||(x[1]=s("hr",{class:"tw-my-7.5 xl:tw-my-10 tw-text-primary-600"},null,-1)),st(s("article",St,null,512),[[H,t(e).content]]),l(at,{views:t(e).pageviews,likes:t(e).likes,"is-liked":t(e).isLiked,onLike:V},null,8,["views","likes","is-liked"])]),s("div",Lt,[l(nt,{title:t(e).title,class:"xl:tw-pl-7.5 tw-transition"},null,8,["title"])])])):v("",!0),l(ht)]),l(R)],64)}}}),Bt=Object.freeze(Object.defineProperty({__proto__:null,default:It},Symbol.toStringTag,{value:"Module"})),Tt={key:1,class:"tw-grid sm:tw-grid-cols-2 tw-gap-7.5 lg:tw-gap-10"},Ft={key:2,class:"tw-flex tw-justify-center tw-mt-10"},Ot=$({__name:"NewsGrid",setup(N){const{$customFetch:n}=I(),w=F(n),m=L(),{t:p}=B(),{data:d,isLoading:_,isFetchingNextPage:f,fetchNextPage:c,hasNextPage:b,suspense:u}=ct({queryKey:O.list(m.locale),queryFn:({queryKey:e,pageParam:h=1})=>w.getNewsList(e,h),staleTime:E,getNextPageParam:e=>e.nextCursor,initialPageParam:1}),i=A(()=>{var e;return(e=d.value)==null?void 0:e.pages.flatMap(h=>h.data)})??[];return(e,h)=>(a(),o("div",null,[t(_)?(a(),y(T,{key:0,class:"tw-mt-10 tw-w-1500 tw-h-1500"})):(a(),o("div",Tt,[(a(!0),o(k,null,M(t(i),S=>(a(),y(mt,{key:S.id,item:S,class:"grid-item"},null,8,["item"]))),128))])),t(b)?(a(),o("div",Ft,[l(wt,{icon:"refresh","icon-class":"tw-text-primary-400 tw-w-300 tw-h-300 tw-mr-2",label:t(p)("common.buttons.loadMore"),size:t(rt).medium,loading:t(f),onClick:t(c)},null,8,["label","size","loading","onClick"])])):v("",!0)]))}}),Pt={class:"tw-sr-only"},Ct={class:"tw-container tw-mt-5 md:tw-mt-7.5 tw-mb-15 md:tw-mb-20"},jt={class:"heading-h2 md:heading-h1 tw-mb-2.5 md:tw-mb-0.5"},zt={class:"lg:tw-flex lg:tw-justify-between tw-mb-7.5"},Dt={class:"tw-flex tw-items-center"},At={class:"body-b1 tw-text-primary-300 tw-mr-1 tw-mb-4 lg:tw-mb-0"},Et=$({__name:"index",setup(N){const{t:n}=B();return q({title:n("common.site.metadata.news.title"),description:n("common.site.metadata.news.description"),keywords:n("common.site.metadata.news.keywords"),relativeUrl:"news"}),(w,m)=>(a(),o(k,null,[s("h1",Pt,r(t(n)("common.site.metadata.news.h1")),1),s("div",Ct,[s("div",jt,r(t(n)("news.title")),1),s("div",zt,[s("div",Dt,[s("p",At,r(t(n)("news.subtitle")),1)])]),l(Ot)]),l(R)],64))}}),Vt=Object.freeze(Object.defineProperty({__proto__:null,default:Et},Symbol.toStringTag,{value:"Module"}));export{Rt as _,Bt as a,Vt as i};
